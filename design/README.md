# Document.Design
- 基本的设计，关于本项目的基本设计
- 基本设计其实就是核心设计，不管这个项目以任何形式出现，都不能脱离的操作核心
- 这个操作核心主要就是实现GTD理念的部分
- 在开始阅读本部分时，我推荐您先了解一下什么是[GTD](design/GTD.md)


## 核心构造
- 不管这个系统（NL）如何实现，它总是离不开一个核心，这个核心就是实现GTD的代码，没有了它，这个项目就没了灵魂
- 那么，这个核心是怎样的呢，其内部结构究竟如何，我们就需要好好探讨一下了
- 我们不妨根据GTD的四个步骤来把核心分为四个基本部分吧

### 收集-COLLECT
- 开始GTD的第一件事情就是收集stuff，把你要做的事情都记录下来，放到一个叫做**INBOX**的地方
- 因此，为了实现这个功能，我们需要提供一个能实现「收集」这个功能的接口
- 实现「收集」这个功能的文件就叫「InboxManager」吧，挺贴切的
- 看看它应该具备什么接口（函数）
  
  - 1、首先是收集——pick_stuff，也就是记录stuff到inbox的函数
  
    - 简单理解就是根据用户给出的信息添加stuff到数据库里去
  
    - 我们的数据库在「经典系统」中是采用MongoDB实现的，存储stuff的数据库就叫「inbox」可以了，接着不同用户就是不同的collection（集合），集合中的记录按json来，记录用户的不同stuff
  
      - 大概这样：db(stuff) / coll({account}) / docu({stuff:json})
  
    - 函数的参数就是创建一个stuff所需的所有信息，然后从模板中加载填入信息然后上传，最后返回一个stuff_id
  
      - stuff_id就用md5(content+salt)生成
  
    - 接着就是stuff的信息模板
  
      - ```json
        {
            "content": "",  // 必填，必须是一句话
            "description": "",  // 可选，对基本内容的补充
            "create_date": "",  // 自动生成: YYYY-MM-DD/HH-mm
            "id": "",  // 自动生成
            "tags": [],  // 可选，标签，方便分类
            "links": [],  // 可选，链接url什么的
            "time": "",  // 可选，stuff执行的时间，如果有
            "place": "",  // 可选，执行stuff的地点
            "level": 0,  // 可选，stuff的优先级
            "status": ""  // 自动生成（也可自填），stuff的状态
        }
        ```
  
        
  
  - 2、第二就是修改——modify_stuff，日后stuff的信息

